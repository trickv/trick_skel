#!/usr/bin/perl

use XML::Simple;

my $file = $ENV{'HOME'} . '/.trick_skel_info.xml';
my $xsl = XML::Simple->new();
my $doc = $xsl->XMLin($file);

print "Is this thing on?  Yeah, it is.  This is trick_skel.\n";
print "====================================================\n";
print "Last updated: " . $doc->{'entry'}->{'commit'}->{'date'} . "\n";
print "SVN Revision: " . $doc->{'entry'}->{'commit'}->{'revision'} . "\n";
print "Installed: " . `cat ~/.trick_skel_install_date`;

my $env_rev=$ENV{'TRICK_SKEL_ENV_REVISION'};
if ($env_rev != $doc->{'entry'}->{'commit'}->{'revision'}) {
    print "This env is behind the skel env.  You're running r$env_rev. skelup!\n";
}
