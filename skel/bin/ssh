#!/usr/bin/env bash

# References:
# http://tldp.org/LDP/abs/html/intandnonint.html
# http://serverfault.com/questions/146745/how-can-i-check-in-bash-if-a-shell-is-running-in-interactive-mode
fd=0
if [[ -t "$fd" ]]; then
    terminal-title ssh $*
fi

echo $* | fgrep mintel &> /dev/null
if [ $USER != "pv" -a $? -eq 0 ]; then
    echo "Magically changing user to pv for mintel box"
    extra_args="-l pv"
fi

PATH=/usr/local/bin:/usr/bin:/bin
ssh=`which ssh`
$ssh $extra_args $*
